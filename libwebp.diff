diff --git a/CMakeLists.txt b/CMakeLists.txt
index 5c5d81de..b8e2acfd 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -298,6 +298,8 @@ if(WEBP_BUILD_WEBP_JS)
   target_link_libraries(webp_wasm webpdecoder SDL)
   set_target_properties(webp_wasm PROPERTIES LINK_FLAGS
       "-s WASM=1 -s 'BINARYEN_METHOD=\"native-wasm\"' \
+      -s OFFSCREENCANVAS_SUPPORT=1 \
+      -s EXTRA_EXPORTED_RUNTIME_METHODS='[\"cwrap\"]' \
       -s EXPORTED_FUNCTIONS='[\"_WebpToSDL\"]' -s INVOKE_RUN=0")
   target_compile_definitions(webp_wasm PUBLIC EMSCRIPTEN WEBP_HAVE_SDL)

